if [[ "$system" != "Linux" ]];then
    return
fi

function proxyOn {
    export https_proxy=http://127.0.0.1:7890
    export http_proxy=http://127.0.0.1:7890
    export all_proxy=socks5://127.0.0.1:7890
}
proxyOn

function proxyOff {
    unset https_proxy
    unset http_proxy
    unset all_proxy
}

function ladderUpdate {
        # 获取当前时间的时间戳
    current_timestamp=$(date +%s)

    # 获取文件的最新修改时间的时间戳
    file_timestamp=$(stat -c %Y $HOME/.config/clash/profiles/1677775724217.yml)

    # 计算时间差
    time_diff=$(( current_timestamp - file_timestamp ))

    # 判断时间差是否小于24小时
    if (( time_diff < 86400 )); then
        return
    else
        proxyupdate
    fi
}
ladderUpdate
# vim: set ft=bash :
